<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <title>åŸç”Ÿ JS è´­ç‰©è½¦</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    button { padding: 4px 8px; }
  </style>
</head>
<body>
  <h1>ğŸ›’ æˆ‘çš„è´­ç‰©è½¦</h1>

  <table>
    <thead>
      <tr>
        <th>å•†å“å</th><th>å•ä»·</th><th>æ•°é‡</th><th>å°è®¡</th><th>æ“ä½œ</th>
      </tr>
    </thead>
    <tbody id="cart-body"></tbody>
  </table>

  <h3>ğŸ§¾ å…¨éƒ¨å•†å“æ€»ä»·ï¼š<span id="total-price">ï¿¥0</span></h3>

  <script>
    let cartData = [
      { id: 1, name: 'æ‰‹æœº',  price: 2000, count: 1 },
      { id: 2, name: 'è€³æœº',  price:  300, count: 2 },
      { id: 3, name: 'å……ç”µå™¨', price:  100, count: 1 }
    ];

    const tbody  = document.getElementById('cart-body');
    const totalEl = document.getElementById('total-price');
    // æ¸²æŸ“å‡½æ•°
    function fetchList(){
        tbody.innerHTML=''
        cartData.forEach(item=>{
            const tr=document.createElement('tr')
            tr.innerHTML=`
            <td>${item.name}</td>
            <td>${item.price}</td>
            <td>
                <button class="increase" data-id="${item.id}">+</button>
                <button class="decrease" data-id="${item.id}">-</button>
                    <span>${item.count}</span>
            </td>
            <td>
                ${item.price*item.count}
            </td>
            <td>
                <button class="delete" data-id="${item.id}">åˆ é™¤</button>
            </td>
            `
              tbody.appendChild(tr)
        })
        totalEl.innerHTML=cartData.reduce((sum,item)=>sum+(item.count*item.price),0)
    }
    // åšå‡ºè´­ç‰©è½¦äº‹ä»¶

   fetchList()
   tbody.addEventListener('click',e=>{
    const id=+e.target.dataset.id
    const item=cartData.find(item=>item.id===id)
    if(!item) return
   if(e.target.classList.contains('increase')){
    item.count++
   }else if(e.target.classList.contains('decrease')){
    if(item.count>0)item.count-- 
   }else if(e.target.classList.contains('delete')){
   const Iscon=confirm(`ç¡®å®šè¦åˆ é™¤è¯¥${item.name}å—ï¼Ÿ`)
   if(Iscon){
    cartData=cartData.filter(item=>item.id!=id)
   }
   }
    fetchList();
   })
  </script>
</body>
</html>
